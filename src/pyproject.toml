[tool.poetry]
name = "pyclashbot"
version = "v0.0.0"
description = "Automated Clash Royale"
readme = "../README.md"
authors = [
  "Matthew Miglio <matthew@martinmiglio.dev>",
  "Martin Miglio <code@martinmiglio.dev>",
]
homepage = "https://pyclashbot.app"
include = ["../README.md", "pyclashbot/detection/reference_images/**/*.png"]


[tool.poetry.dependencies]
python = "^3.11"
pillow = "^10.0.0"
opencv-python = "^4.8.0"
numpy = "^1.25.0"
joblib = "^1.3.1"
pysimplegui = "^4.60.5"
pymemuc = "^0.4.2"
wmi = "^1.5.1"
psutil = "^5.9.5"


[tool.poetry.group.build]
optional = true


[tool.poetry.group.build.dependencies]
cx-freeze = "^6.15.3"


[tool.poetry.group.dev]
optional = true


[tool.poetry.group.dev.dependencies]
pre-commit = "^3.3.3"
black = "^23.3.0"
vulture = "^2.6"
isort = "^5.12.0"
prospector = "^1.10.2"
poethepoet = "^0.21.0"


[tool.poe.tasks.tag]
shell = """
git push origin master
git tag -a $Env:tagname -m "Release $Env:tagname"
git push origin $Env:tagname
"""
interpreter = "powershell"


[[tool.poe.tasks.tag.args]]
name = "tagname"
default = "dev"
positional = true
required = true


[tool.poe.tasks.vulture]
shell = """
poetry run vulture pyclashbot --min-confidence 60
"""
interpreter = "powershell"

[tool.poe.tasks.lint]
shell = """
poetry run prospector pyclashbot
"""
interpreter = "powershell"


[tool.black]
line-length = 88
target-version = ['py310']
include = '\.pyi?$'
exclude = '''
(
  /(
      \.eggs         # exclude a few common directories in the
    | \.git          # root of the project
    | \.hg
    | \.mypy_cache
    | \.tox
    | \.venv
    | _build
    | buck-out
    | build
    | dist
  )/
)
'''


[tool.isort]
profile = "black"


[tool.pylint.main]
ignore = ["build", "debug"]
py-version = "3.10"
suggestion-mode = true
disable = [
  "C0114", # missing-module-docstring
  "C0115", # missing-class-docstring
  "C0116", # missing-function-docstring
  "C0301", # line-too-long
  "C0103", # invalid-name
]
